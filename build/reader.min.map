{"version":3,"file":"reader.min.js","sources":["reader.js"],"names":["EPUBJS","reader","plugins","root","previousReader","ePubReader","path","options","Reader","_","extend","noConflict","this","define","amd","module","exports","window","jQuery","bookPath","_options","book","plugin","parameters","$viewer","$","search","location","slice","split","forEach","p","name","value","settings","defaults","restore","reload","bookmarks","annotations","contained","bookKey","styles","sidebarReflow","generatePagination","history","setBookKey","isSaved","applySavedSettings","fontSize","Book","previousLocationCfi","gotoCfi","offline","sidebarOpen","width","height","renderTo","ReaderController","call","SettingsController","ControlsController","SidebarController","BookmarksController","NotesController","hasOwnProperty","ready","all","then","hideLoader","getMetadata","meta","MetaController","getToc","toc","TocController","addEventListener","unload","bind","hashChanged","document","adjustFontSize","on","arrowKeys","selectedRange","prototype","e","interval","PLUS","MINUS","ZERO","MOD","ctrlKey","metaKey","parseInt","keyCode","preventDefault","setStyle","addBookmark","cfi","present","isBookmarked","push","trigger","removeBookmark","bookmark","indexOf","clearBookmarks","addNote","note","removeNote","index","clearNotes","identifier","VERSION","host","storedSettings","localStorage","getItem","removeSavedSettings","removeItem","stored","JSON","parse","saveSettings","getCurrentLocationCfi","setItem","stringify","hash","goto","range","epubcfi","EpubCFI","generateCfiFromRangeAnchor","renderer","currentChapter","cfiBase","cfiFragment","pushState","currentLocationCfi","RSVP","EventTarget","mixin","$bookmarks","$list","find","docfrag","createDocumentFragment","show","hide","counter","createBookmarkItem","listitem","createElement","link","id","classList","add","textContent","href","event","getAttribute","appendChild","append","item","$item","remove","$fullscreen","$slider","$settings","$bookmark","goOnline","goOffline","fullscreen","addClass","removeClass","screenfull","toggle","raw","fullscreenchange","isFullscreen","bookmarked","title","bookTitle","author","creator","$title","$author","$dash","html","$notesView","$notes","$text","$anchor","popups","insertAtPoint","textNode","offset","annotation","doc","caretPositionFromPoint","clientX","clientY","offsetNode","caretRangeFromPoint","startContainer","startOffset","nodeType","i","childNodes","length","generateCfiFromTextNode","annotatedAt","Date","anchor","body","val","addAnnotation","placeMarker","text","prop","off","innerHTML","onclick","marker","mark","style","verticalAlign","position","lineHeight","display","padding","backgroundColor","borderRadius","cursor","addMarker","markerEvents","txt","showPop","pop","itemRect","left","top","iheight","iwidth","maxHeight","setAttribute","pop_content","render","onPop","offPop","hidePop","getBoundingClientRect","popRect","setTimeout","openSidebar","slideOut","registerHook","callback","chapter","spinePos","console","log","$main","$divider","$loader","$next","$prev","slideIn","currentPosition","one","showLoader","hideDivider","showDivider","keylock","prevPage","nextPage","bool","$overlay","$sidebarReflowSetting","$sidebar","$panels","activePanel","changePanelTo","viewName","controllerName","getActivePanel","view","data","generateTocItems","level","container","subitems","label","insertBefore","onShow","onHide","chapterChange","$current","has","parents","tocitems","url","parent","$el","open","hasClass"],"mappings":"AAAAA,OAAOC,UACPD,OAAOC,OAAOC,WAEd,SAAUC,GAET,GAAIC,GAAiBD,EAAKE,eAEtBA,EAAaF,EAAKE,WAAa,SAASC,EAAMC,GACjD,MAAO,IAAIP,QAAOQ,OAAOF,EAAMC,GAGhCE,GAAEC,OAAOL,GACRM,WAAa,WAEZ,MADAR,GAAKE,WAAaD,EACXQ,QAKa,kBAAXC,SAAyBA,OAAOC,IAE3CD,OAAO,WAAY,MAAOL,UACA,mBAAVO,SAAyBA,OAAOC,UAEhDD,OAAOC,QAAUX,IAEfY,OAAQC,QAEXlB,OAAOQ,OAAS,SAASW,EAAUC,GAClC,GACIC,GACAC,EAGAC,EALAtB,EAASW,KAGTY,EAAUC,EAAE,WACZC,EAAST,OAAOU,SAASD,MAI1BA,KACFH,EAAaG,EAAOE,MAAM,GAAGC,MAAM,KACnCN,EAAWO,QAAQ,SAASC,GAC3B,GAAIF,GAAQE,EAAEF,MAAM,KAChBG,EAAOH,EAAM,GACbI,EAAQJ,EAAM,IAAM,EACxBT,GAASY,GAAQC,KAInBrB,KAAKsB,SAAWzB,EAAE0B,SAASf,OAC1BD,SAAWA,EACXiB,SAAU,EACVC,QAAS,EACTC,UAAY,KACZC,YAAc,KACdC,UAAY,KACZC,QAAU,KACVC,OAAS,KACTC,eAAe,EACfC,oBAAoB,EACpBC,SAAS,IAGVjC,KAAKkC,WAAW3B,GAEbP,KAAKsB,SAASE,SAAWxB,KAAKmC,WAChCnC,KAAKoC,qBAGNpC,KAAKsB,SAASQ,OAAS9B,KAAKsB,SAASQ,SACpCO,SAAW,QAGZrC,KAAKS,KAAOA,EAAO,GAAIrB,QAAOkD,MAC7B/B,SAAUP,KAAKsB,SAASf,SACxBiB,QAASxB,KAAKsB,SAASE,QACvBC,OAAQzB,KAAKsB,SAASG,OACtBG,UAAW5B,KAAKsB,SAASM,UACzBC,QAAS7B,KAAKsB,SAASO,QACvBC,OAAQ9B,KAAKsB,SAASQ,SAGpB9B,KAAKsB,SAASiB,qBAChB9B,EAAK+B,QAAQxC,KAAKsB,SAASiB,qBAG5BvC,KAAKyC,SAAU,EACfzC,KAAK0C,aAAc,EACf1C,KAAKsB,SAASI,YACjB1B,KAAKsB,SAASI,cAGX1B,KAAKsB,SAASK,cACjB3B,KAAKsB,SAASK,gBAGZ3B,KAAKsB,SAASU,oBAChBvB,EAAKuB,mBAAmBpB,EAAQ+B,QAAS/B,EAAQgC,UAGlDnC,EAAKoC,SAAS,UAEdxD,EAAOyD,iBAAmB1D,OAAOC,OAAOyD,iBAAiBC,KAAK1D,EAAQoB,GACtEpB,EAAO2D,mBAAqB5D,OAAOC,OAAO2D,mBAAmBD,KAAK1D,EAAQoB,GAC1EpB,EAAO4D,mBAAqB7D,OAAOC,OAAO4D,mBAAmBF,KAAK1D,EAAQoB,GAC1EpB,EAAO6D,kBAAoB9D,OAAOC,OAAO6D,kBAAkBH,KAAK1D,EAAQoB,GACxEpB,EAAO8D,oBAAsB/D,OAAOC,OAAO8D,oBAAoBJ,KAAK1D,EAAQoB,GAC5EpB,EAAO+D,gBAAkBhE,OAAOC,OAAO+D,gBAAgBL,KAAK1D,EAAQoB,EAGpE,KAAIC,IAAUtB,QAAOC,OAAOC,QACxBF,OAAOC,OAAOC,QAAQ+D,eAAe3C,KACvCrB,EAAOqB,GAAUtB,OAAOC,OAAOC,QAAQoB,GAAQqC,KAAK1D,EAAQoB,GA2B9D,OAvBAA,GAAK6C,MAAMC,IAAIC,KAAK,WACnBnE,EAAOyD,iBAAiBW,eAGzBhD,EAAKiD,cAAcF,KAAK,SAASG,GAChCtE,EAAOuE,eAAiBxE,OAAOC,OAAOuE,eAAeb,KAAK1D,EAAQsE,KAGnElD,EAAKoD,SAASL,KAAK,SAASM,GAC3BzE,EAAO0E,cAAgB3E,OAAOC,OAAO0E,cAAchB,KAAK1D,EAAQyE,KAGjEzD,OAAO2D,iBAAiB,eAAgBhE,KAAKiE,OAAOC,KAAKlE,OAAO,GAEhEK,OAAO2D,iBAAiB,aAAchE,KAAKmE,YAAYD,KAAKlE,OAAO,GAEnEoE,SAASJ,iBAAiB,UAAWhE,KAAKqE,eAAeH,KAAKlE,OAAO,GAErES,EAAK6D,GAAG,mBAAoBtE,KAAKqE,eAAeH,KAAKlE,OACrDS,EAAK6D,GAAG,mBAAoBjF,EAAOyD,iBAAiByB,UAAUL,KAAKlE,OAEnES,EAAK6D,GAAG,oBAAqBtE,KAAKwE,cAAcN,KAAKlE,OAE9CA,MAGRZ,OAAOQ,OAAO6E,UAAUJ,eAAiB,SAASK,GACjD,GAAIrC,GACAsC,EAAW,EACXC,EAAO,IACPC,EAAQ,IACRC,EAAO,GACPC,EAAOL,EAAEM,SAAWN,EAAEO,OAEtBjF,MAAKsB,SAASQ,SAEd9B,KAAKsB,SAASQ,OAAOO,WACxBrC,KAAKsB,SAASQ,OAAOO,SAAW,QAGjCA,EAAW6C,SAASlF,KAAKsB,SAASQ,OAAOO,SAASrB,MAAM,EAAG,KAExD+D,GAAOL,EAAES,SAAWP,IACtBF,EAAEU,iBACFpF,KAAKS,KAAK4E,SAAS,WAAahD,EAAWsC,EAAY,MAIrDI,GAAOL,EAAES,SAAWN,IAEtBH,EAAEU,iBACFpF,KAAKS,KAAK4E,SAAS,WAAahD,EAAWsC,EAAY,MAGrDI,GAAOL,EAAES,SAAWL,IACtBJ,EAAEU,iBACFpF,KAAKS,KAAK4E,SAAS,WAAY,WAIjCjG,OAAOQ,OAAO6E,UAAUa,YAAc,SAASC,GAC9C,GAAIC,GAAUxF,KAAKyF,aAAaF,EAC7BC,GAAU,KAEbxF,KAAKsB,SAASI,UAAUgE,KAAKH,GAE7BvF,KAAK2F,QAAQ,oBAAqBJ,KAGnCnG,OAAOQ,OAAO6E,UAAUmB,eAAiB,SAASL,GACjD,GAAIM,GAAW7F,KAAKyF,aAAaF,EAChB,MAAbM,UAEG7F,MAAKsB,SAASI,UAAUmE,GAE/B7F,KAAK2F,QAAQ,sBAAuBE,KAGrCzG,OAAOQ,OAAO6E,UAAUgB,aAAe,SAASF,GAC/C,GAAI7D,GAAY1B,KAAKsB,SAASI,SAE9B,OAAOA,GAAUoE,QAAQP,IAgB1BnG,OAAOQ,OAAO6E,UAAUsB,eAAiB,WACxC/F,KAAKsB,SAASI,cAIftC,OAAOQ,OAAO6E,UAAUuB,QAAU,SAASC,GAC1CjG,KAAKsB,SAASK,YAAY+D,KAAKO,IAGhC7G,OAAOQ,OAAO6E,UAAUyB,WAAa,SAASD,GAC7C,GAAIE,GAAQnG,KAAKsB,SAASK,YAAYmE,QAAQG,EAChC,MAAVE,SAEGnG,MAAKsB,SAASK,YAAYwE,IAIlC/G,OAAOQ,OAAO6E,UAAU2B,WAAa,WACpCpG,KAAKsB,SAASK,gBAIfvC,OAAOQ,OAAO6E,UAAUvC,WAAa,SAASmE,GAI7C,MAHIrG,MAAKsB,SAASO,UACjB7B,KAAKsB,SAASO,QAAU,gBAAkBzC,OAAOkH,QAAU,IAAMjG,OAAOU,SAASwF,KAAO,IAAMF,GAExFrG,KAAKsB,SAASO,SAItBzC,OAAOQ,OAAO6E,UAAUtC,QAAU,WACjC,GAAIqE,EAEJ,OAAIC,eAIJD,EAAiBC,aAAaC,QAAQ1G,KAAKsB,SAASO,SAE9B,OAAnB2E,GACK,GAEA,IARA,GAYTpH,OAAOQ,OAAO6E,UAAUkC,oBAAsB,WAC7C,MAAIF,kBAIJA,cAAaG,WAAW5G,KAAKsB,SAASO,UAH9B,GAMTzC,OAAOQ,OAAO6E,UAAUrC,mBAAqB,WAC3C,GAAIyE,EAEJ,OAAIJ,eAIJI,EAASC,KAAKC,MAAMN,aAAaC,QAAQ1G,KAAKsB,SAASO,UAEpDgF,GACF7G,KAAKsB,SAAWzB,EAAE0B,SAASvB,KAAKsB,SAAUuF,IACnC,IAEA,IATA,GAaVzH,OAAOQ,OAAO6E,UAAUuC,aAAe,WAKtC,MAJGhH,MAAKS,OACPT,KAAKsB,SAASiB,oBAAsBvC,KAAKS,KAAKwG,yBAG3CR,iBAIJA,cAAaS,QAAQlH,KAAKsB,SAASO,QAASiF,KAAKK,UAAUnH,KAAKsB,YAHxD,GAMTlC,OAAOQ,OAAO6E,UAAUR,OAAS,WAC7BjE,KAAKsB,SAASE,SAAWiF,cAC3BzG,KAAKgH,gBAKP5H,OAAOQ,OAAO6E,UAAUN,YAAc,WACrC,GAAIiD,GAAO/G,OAAOU,SAASqG,KAAKpG,MAAM,EACtChB,MAAKS,KAAK4G,KAAKD,IAGhBhI,OAAOQ,OAAO6E,UAAUD,cAAgB,SAAS8C,GAChD,GAAIC,GAAU,GAAInI,QAAOoI,QACrBjC,EAAMgC,EAAQE,2BAA2BH,EAAOtH,KAAKS,KAAKiH,SAASC,eAAeC,SAClFC,EAAc,IAAItC,CAGnBvF,MAAKsB,SAASW,SACf5B,OAAOU,SAASqG,MAAQS,IAEzB5F,QAAQ6F,aAAc,GAAID,GAC1B7H,KAAK+H,mBAAqBxC,IAK5ByC,KAAKC,YAAYC,MAAM9I,OAAOQ,OAAO6E,WACrCrF,OAAOC,OAAO8D,oBAAsB,WACnC,GACI1C,GAAOT,KAAKS,KAEZ0H,EAAatH,EAAE,kBACjBuH,EAAQD,EAAWE,KAAK,cAEtBC,EAAUlE,SAASmE,yBAEnBC,EAAO,WACVL,EAAWK,QAGRC,EAAO,WACVN,EAAWM,QAGRC,EAAU,EAEVC,EAAqB,SAASpD,GACjC,GAAIqD,GAAWxE,SAASyE,cAAc,MACpCC,EAAO1E,SAASyE,cAAc,IAqBhC,OAnBAD,GAASG,GAAK,YAAYL,EAC1BE,EAASI,UAAUC,IAAI,aAGvBH,EAAKI,YAAc3D,EACnBuD,EAAKK,KAAO5D,EAEZuD,EAAKE,UAAUC,IAAI,iBAEnBH,EAAK9E,iBAAiB,QAAS,SAASoF,GACtC,GAAI7D,GAAMvF,KAAKqJ,aAAa,OAC5B5I,GAAK+B,QAAQ+C,GACb6D,EAAMhE,mBACL,GAEHwD,EAASU,YAAYR,GAErBJ,IAEOE,EAoBR,OAjBA5I,MAAKsB,SAASI,UAAUR,QAAQ,SAASqE,GACxC,GAAIM,GAAW8C,EAAmBpD,EAClC+C,GAAQgB,YAAYzD,KAGrBuC,EAAMmB,OAAOjB,GAEbtI,KAAKsE,GAAG,oBAAqB,SAASiB,GACrC,GAAIiE,GAAOb,EAAmBpD,EAC9B6C,GAAMmB,OAAOC,KAGdxJ,KAAKsE,GAAG,sBAAuB,SAAS6B,GACvC,GAAIsD,GAAQ5I,EAAE,aAAasF,EAC3BsD,GAAMC,YAINlB,KAASA,EACTC,KAASA,IAGXrJ,OAAOC,OAAO4D,mBAAqB,SAASxC,GAC3C,GAAIpB,GAASW,KAGX2J,GADW9I,EAAE,UACCA,EAAE,gBAGhB+I,GAFkB/I,EAAE,mBACIA,EAAE,yBAChBA,EAAE,YAGZgJ,GAFQhJ,EAAE,SACCA,EAAE,YACDA,EAAE,aACdiJ,EAAYjJ,EAAE,aAEZkJ,EAAW,WACd1K,EAAOoD,SAAU,GAIduH,EAAY,WACf3K,EAAOoD,SAAU,GAIdwH,GAAa,CAsFjB,OApFAxJ,GAAK6D,GAAG,cAAeyF,GACvBtJ,EAAK6D,GAAG,eAAgB0F,GAExBJ,EAAQtF,GAAG,QAAS,WAChBjF,EAAOqD,aACTrD,EAAO6D,kBAAkBuF,OACzBmB,EAAQM,SAAS,aACjBN,EAAQO,YAAY,gBAEpB9K,EAAO6D,kBAAkBsF,OACzBoB,EAAQM,SAAS,cACjBN,EAAQO,YAAY,gBAItBR,EAAYrF,GAAG,QAAS,WACvB8F,WAAWC,OAAOxJ,EAAE,cAAc,MAGhCuJ,YACFhG,SAASJ,iBAAiBoG,WAAWE,IAAIC,iBAAkB,WACzDN,EAAaG,WAAWI,aACrBP,EACFN,EACEO,SAAS,qBACTC,YAAY,oBAEdR,EACEO,SAAS,oBACTC,YAAY,uBAKlBN,EAAUvF,GAAG,QAAS,WACrBjF,EAAO2D,mBAAmBwF,SAG3BsB,EAAUxF,GAAG,QAAS,WACrB,GAAIiB,GAAMlG,EAAOoB,KAAKwG,wBAClBwD,EAAapL,EAAOoG,aAAaF,EAEnB,MAAfkF,GACFpL,EAAOiG,YAAYC,GACnBuE,EACEI,SAAS,iBACTC,YAAY,yBAEd9K,EAAOuG,eAAeL,GACtBuE,EACEK,YAAY,iBACZD,SAAS,0BAKbzJ,EAAK6D,GAAG,2BAA4B,SAASiB,GAC5C,GAAIsC,GAAc,IAAMtC,EAEpBkF,EAAapL,EAAOoG,aAAaF,EACnB,MAAfkF,EACFX,EACEK,YAAY,iBACZD,SAAS,uBAEXJ,EACEI,SAAS,iBACTC,YAAY,uBAGf9K,EAAO0I,mBAAqBxC,EAGzBlG,EAAOiC,SAASW,SACjB5B,OAAOU,SAASqG,MAAQS,GAEzB5F,QAAQ6F,aAAc,GAAID,KAI5BpH,EAAK6D,GAAG,mBAAoB,kBAQ7BlF,OAAOC,OAAOuE,eAAiB,SAASD,GACvC,GAAI+G,GAAQ/G,EAAKgH,UACfC,EAASjH,EAAKkH,QAEZC,EAASjK,EAAE,eACbkK,EAAUlK,EAAE,kBACZmK,EAAQnK,EAAE,mBAEXuD,UAASsG,MAAQA,EAAM,MAAME,EAE7BE,EAAOG,KAAKP,GACZK,EAAQE,KAAKL,GACbI,EAAMxC,QAERpJ,OAAOC,OAAO+D,gBAAkB,WAC/B,GAAI3C,GAAOT,KAAKS,KACZpB,EAASW,KACTkL,EAAarK,EAAE,cACfsK,EAAStK,EAAE,UACXuK,EAAQvK,EAAE,cACVwK,EAAUxK,EAAE,gBACZc,EAActC,EAAOiC,SAASK,YAC9B+F,EAAWjH,EAAKiH,SAChB4D,KACA/D,EAAU,GAAInI,QAAOoI,QAErBgB,EAAO,WACV0C,EAAW1C,QAGRC,EAAO,WACVyC,EAAWzC,QAGR8C,EAAgB,SAAS7G,GAC5B,GAAI4C,GACAkE,EACAC,EAEAlG,EACAmG,EAFAC,EAAMlL,EAAKiH,SAASiE,GAgBxB,IAXIA,EAAIC,wBACPtE,EAAQqE,EAAIC,uBAAuBlH,EAAEmH,QAASnH,EAAEoH,SAChDN,EAAWlE,EAAMyE,WACjBN,EAASnE,EAAMmE,QAELE,EAAIK,sBACd1E,EAAQqE,EAAIK,oBAAoBtH,EAAEmH,QAASnH,EAAEoH,SAC7CN,EAAWlE,EAAM2E,eACjBR,EAASnE,EAAM4E,aAGU,IAAtBV,EAASW,SACZ,IAAK,GAAIC,GAAE,EAAGA,EAAIZ,EAASa,WAAWC,OAAQF,IAC7C,GAAuC,GAAnCZ,EAASa,WAAWD,GAAGD,SAAe,CACzCX,EAAWA,EAASa,WAAWD,EAC/B,OAMHX,EAASD,EAAStC,YAAYpD,QAAQ,IAAK2F,GAC7B,KAAXA,EACFA,EAASD,EAASc,OAElBb,GAAU,EAGXlG,EAAMgC,EAAQgF,wBAAwBf,EAAUC,EAAQhL,EAAKiH,SAASC,eAAeC,SAErF8D,GACCc,YAAa,GAAIC,MACjBC,OAAQnH,EACRoH,KAAMvB,EAAMwB,OAIbvN,EAAO2G,QAAQ0F,GAGfmB,EAAcnB,GACdoB,EAAYpB,GAGZN,EAAMwB,IAAI,IACVvB,EAAQ0B,KAAK,UACb3B,EAAM4B,KAAK,YAAY,GAEvBvM,EAAKwM,IAAI,iBAAkB1B,IAIxBsB,EAAgB,SAASnB,GAC5B,GAAIzF,GAAO7B,SAASyE,cAAc,MAC9BC,EAAO1E,SAASyE,cAAc,IAElC5C,GAAKiH,UAAYxB,EAAWiB,KAE5B7D,EAAKoE,UAAY,kBACjBpE,EAAKK,KAAO,IAAIuC,EAAWgB,OAC3B5D,EAAKqE,QAAU,WAEd,MADA1M,GAAK+B,QAAQkJ,EAAWgB,SACjB,GAGRzG,EAAKqD,YAAYR,GACjBqC,EAAO5B,OAAOtD,IAIX6G,EAAc,SAASpB,GAC1B,GAAIC,GAAMlL,EAAKiH,SAASiE,IACpByB,EAAShJ,SAASyE,cAAc,QAChCwE,EAAOjJ,SAASyE,cAAc,IAClCuE,GAAOpE,UAAUC,IAAI,sBAAuB,oBAE5CmE,EAAOE,MAAMC,cAAgB,QAC7BH,EAAOE,MAAMjL,SAAW,QACxB+K,EAAOE,MAAME,SAAW,WACxBJ,EAAOE,MAAMG,WAAa,MAE1BJ,EAAKC,MAAMI,QAAU,eACrBL,EAAKC,MAAMK,QAAU,MACrBN,EAAKC,MAAMM,gBAAkB,UAC7BP,EAAKC,MAAMO,aAAe,MAC1BR,EAAKC,MAAMQ,OAAS,UAEpBV,EAAOrE,GAAK2C,EAAWgB,OACvBW,EAAKH,UAAYvL,EAAYmE,QAAQ4F,GAAc,EAAI,WAEvD0B,EAAO9D,YAAY+D,GACnB9F,EAAQwG,UAAUrC,EAAWgB,OAAQf,EAAKyB,GAE1CY,EAAaZ,EAAQ1B,EAAWiB,OAG7BqB,EAAe,SAASxE,EAAMyE,GACjC,GAAIlF,GAAKS,EAAKT,GAEVmF,EAAU,WACb,GAIEC,GAEAC,EACAC,EACAC,EAPAC,EAAU7G,EAAS9E,OACnB4L,EAAS9G,EAAS/E,MAGlB8L,EAAY,GAQVnD,GAAOvC,KACVuC,EAAOvC,GAAM3E,SAASyE,cAAc,OACpCyC,EAAOvC,GAAI2F,aAAa,QAAS,SAEjCC,YAAcvK,SAASyE,cAAc,OAErCyC,EAAOvC,GAAIO,YAAYqF,aAEvBA,YAAYzB,UAAYe,EACxBU,YAAYD,aAAa,QAAS,eAElChH,EAASkH,OAAOxK,SAASuI,KAAKrD,YAAYgC,EAAOvC,IAGjDuC,EAAOvC,GAAI/E,iBAAiB,YAAa6K,GAAO,GAChDvD,EAAOvC,GAAI/E,iBAAiB,WAAY8K,GAAQ,GAGhDpH,EAASpD,GAAG,2BAA4ByK,EAAS/O,MACjD0H,EAASpD,GAAG,2BAA4BwK,EAAQ9O,OAIjDmO,EAAM7C,EAAOvC,GAIbqF,EAAW5E,EAAKwF,wBAChBX,EAAOD,EAASC,KAChBC,EAAMF,EAASE,IAGfH,EAAInF,UAAUC,IAAI,QAGlBgG,QAAUd,EAAIa,wBAGdb,EAAIb,MAAMe,KAAOA,EAAOY,QAAQtM,MAAQ,EAAI,KAC5CwL,EAAIb,MAAMgB,IAAMA,EAAM,KAInBG,EAAYF,EAAU,MACxBE,EAAYF,EAAU,IACtBI,YAAYrB,MAAMmB,UAAYA,EAAY,MAIxCQ,QAAQrM,OAAS0L,GAAOC,EAAU,IACpCJ,EAAIb,MAAMgB,IAAMA,EAAMW,QAAQrM,OAAU,KACxCuL,EAAInF,UAAUC,IAAI,UAElBkF,EAAInF,UAAUU,OAAO,SAInB2E,EAAOY,QAAQtM,OAAS,GAC1BwL,EAAIb,MAAMe,KAAOA,EAAO,KACxBF,EAAInF,UAAUC,IAAI,SAElBkF,EAAInF,UAAUU,OAAO,QAInB2E,EAAOY,QAAQtM,MAAQ,GAAK6L,GAE9BL,EAAIb,MAAMe,KAAOA,EAAO,IAAM,KAE9BY,QAAUd,EAAIa,wBACdb,EAAIb,MAAMe,KAAOA,EAAOY,QAAQtM,MAAQ,KAErCsM,QAAQrM,OAAS0L,GAAOC,EAAU,IACpCJ,EAAIb,MAAMgB,IAAMA,EAAMW,QAAQrM,OAAU,KACxCuL,EAAInF,UAAUC,IAAI,UAElBkF,EAAInF,UAAUU,OAAO,SAGtByE,EAAInF,UAAUC,IAAI,UAElBkF,EAAInF,UAAUU,OAAO,UAKnBmF,EAAQ,WACXvD,EAAOvC,GAAIC,UAAUC,IAAI,OAGtB6F,EAAS,WACZxD,EAAOvC,GAAIC,UAAUU,OAAO,OAGzBqF,EAAU,WACbG,WAAW,WACV5D,EAAOvC,GAAIC,UAAUU,OAAO,SAC1B,MAGAyF,EAAc,WACjB9P,EAAOyD,iBAAiBsM,WACxB5G,IAGDgB,GAAKxF,iBAAiB,YAAakK,GAAS,GAC5C1E,EAAKxF,iBAAiB,WAAY+K,GAAS,GAC3CvF,EAAKxF,iBAAiB,QAASmL,GAAa,GAiC7C,OA9BA9D,GAAQ/G,GAAG,QAAS,WAEnB+G,EAAQ0B,KAAK,UACb3B,EAAM4B,KAAK,WAAY,QAEvBvM,EAAK6D,GAAG,iBAAkBiH,KAI3B5J,EAAYT,QAAQ,SAAS+E,GAC5B4G,EAAc5G,KAIfyB,EAAS2H,aAAa,uBAAwB,SAASC,EAAU5H,GAChE,GAAI6H,GAAU7H,EAASC,cACvBhG,GAAYT,QAAQ,SAAS+E,GAC5B,GAAIV,GAAMgC,EAAQR,MAAMd,EAAKyG,OAC7B,IAAGnH,EAAIiK,WAAaD,EAAQC,SAC3B,IACC1C,EAAY7G,GACX,MAAMvB,GACP+K,QAAQC,IAAI,mBAAoBzJ,EAAKyG,WAIxC4C,MACE,IAIF9G,KAASA,EACTC,KAASA,IAGXrJ,OAAOC,OAAOyD,iBAAmB,SAASrC,GACzC,GAAIkP,GAAQ9O,EAAE,SACZ+O,EAAW/O,EAAE,YACbgP,EAAUhP,EAAE,WACZiP,EAAQjP,EAAE,SACVkP,EAAQlP,EAAE,SACRxB,EAASW,KACTS,EAAOT,KAAKS,KACZuP,EAAU,WACb,GAAIC,GAAkBxP,EAAKwG,uBACvB5H,GAAOiC,SAASS,eACnB4N,EAAMxF,YAAY,UAClBwF,EAAMO,IAAI,gBAAiB,WAC1BzP,EAAK+B,QAAQyN,MAGdN,EAAMxF,YAAY,WAIhBiF,EAAW,WACd,GAAIa,GAAkBxP,EAAKwG,uBACvB5H,GAAOiC,SAASS,eACnB4N,EAAMzF,SAAS,UACfyF,EAAMO,IAAI,gBAAiB,WAC1BzP,EAAK+B,QAAQyN,MAGdN,EAAMzF,SAAS,WAIbiG,EAAa,WAChBN,EAAQrH,OACR4H,KAGG3M,EAAa,WAChBoM,EAAQpH,QAQL4H,EAAc,WACjBT,EAAS1F,SAAS,SAGfkG,EAAc,WACjBR,EAASzF,YAAY,SAGlBmG,GAAU,EAEV/L,EAAY,SAASG,GACR,IAAbA,EAAES,UACJ1E,EAAK8P,WACLR,EAAM7F,SAAS,UAEfoG,GAAU,EACVpB,WAAW,WACVoB,GAAU,EACVP,EAAM5F,YAAY,WAChB,KAEFzF,EAAEU,kBAEY,IAAbV,EAAES,UACJ1E,EAAK+P,WACLV,EAAM5F,SAAS,UAEfoG,GAAU,EACVpB,WAAW,WACVoB,GAAU,EACVR,EAAM3F,YAAY,WAChB,KAEFzF,EAAEU,kBAwBL,OApBAhB,UAASJ,iBAAiB,UAAWO,GAAW,GAEhDuL,EAAMxL,GAAG,QAAS,SAASI,GAC1BjE,EAAK+P,WACL9L,EAAEU,mBAGH2K,EAAMzL,GAAG,QAAS,SAASI,GAC1BjE,EAAK8P,WACL7L,EAAEU,mBAGH3E,EAAK6D,GAAG,mBAAoB,SAASmM,GACjCA,EACFJ,IAEAD,OAKDhB,SAAaA,EACbY,QAAaA,EACbG,WAAeA,EACf1M,WAAeA,EACf4M,YAAgBA,EAChBD,YAAgBA,EAChB7L,UAAcA,IAGhBnF,OAAOC,OAAO2D,mBAAqB,WAClC,GACI3D,IADOW,KAAKS,KACHT,MACT6J,EAAYhJ,EAAE,mBAChB6P,EAAW7P,EAAE,YAEX2H,EAAO,WACVqB,EAAUK,SAAS,YAGhBzB,EAAO,WACVoB,EAAUM,YAAY,YAGnBwG,EAAwB9P,EAAE,iBAc9B,OAZA8P,GAAsBrM,GAAG,QAAS,WACjCjF,EAAOiC,SAASS,eAAiB1C,EAAOiC,SAASS,gBAGlD8H,EAAUxB,KAAK,WAAW/D,GAAG,QAAS,WACrCmE,MAGDiI,EAASpM,GAAG,QAAS,WACpBmE,OAIAD,KAASA,EACTC,KAASA,IAGXrJ,OAAOC,OAAO6D,kBAAoB,WACjC,GAAI7D,GAASW,KAET4Q,EAAW/P,EAAE,YACfgQ,EAAUhQ,EAAE,WAEViQ,EAAc,MAEdC,EAAgB,SAASC,GAC5B,GAAIC,GAAiBD,EAAW,YAE7BF,IAAeE,GAA8C,mBAA3B3R,GAAO4R,KAC5C5R,EAAOyR,EAAa,cAAcrI,OAClCpJ,EAAO4R,GAAgBzI,OACvBsI,EAAcE,EAEdH,EAAQxI,KAAK,WAAW8B,YAAY,UACpC0G,EAAQxI,KAAK,SAAW2I,GAAW9G,SAAS,YAGzCgH,EAAiB,WACpB,MAAOJ,IAGJtI,EAAO,WACVnJ,EAAOqD,aAAc,EACrBrD,EAAOyD,iBAAiBsM,WACxBwB,EAAS1G,SAAS,SAGfzB,EAAO,WACVpJ,EAAOqD,aAAc,EACrBrD,EAAOyD,iBAAiBkN,UACxBY,EAASzG,YAAY,QAUtB,OAPA0G,GAAQxI,KAAK,cAAc/D,GAAG,QAAS,SAAS8E,GAC/C,GAAI+H,GAAOtQ,EAAEb,MAAMoR,KAAK,OAExBL,GAAcI,GACd/H,EAAMhE,oBAINoD,KAASA,EACTC,KAASA,EACTyI,eAAmBA,EACnBH,cAAkBA,IAGpB3R,OAAOC,OAAO0E,cAAgB,SAASD,GACtC,GAAIrD,GAAOT,KAAKS,KAEZ2H,EAAQvH,EAAE,YACZyH,EAAUlE,SAASmE,yBAEjBZ,GAAiB,EAEjB0J,EAAmB,SAASvN,EAAKwN,GACpC,GAAIC,GAAYnN,SAASyE,cAAc,KAmCvC,OAjCIyI,KAAOA,EAAQ,GAEnBxN,EAAI5C,QAAQ,SAASqO,GACpB,GAAI3G,GAAWxE,SAASyE,cAAc,MACpCC,EAAO1E,SAASyE,cAAc,IAC9BwB,QAASjG,SAASyE,cAAc,IAElC,IAAI2I,EAEJ5I,GAASG,GAAK,OAAOwG,EAAQxG,GAC7BH,EAASI,UAAUC,IAAI,aAEvBH,EAAKI,YAAcqG,EAAQkC,MAC3B3I,EAAKK,KAAOoG,EAAQpG,KAEpBL,EAAKE,UAAUC,IAAI,YAEnBL,EAASU,YAAYR,GAElByG,EAAQiC,SAASlF,OAAS,IAC5BgF,IACAE,EAAWH,EAAiB9B,EAAQiC,SAAUF,GAC9CjH,OAAOrB,UAAUC,IAAI,cAErBL,EAAS8I,aAAarH,OAAQvB,GAC9BF,EAASU,YAAYkI,IAItBD,EAAUjI,YAAYV,KAIhB2I,GAGJI,EAAS,WACZvJ,EAAMI,QAGHoJ,EAAS,WACZxJ,EAAMK,QAGHoJ,EAAgB,SAASnN,GAC5B,CAAA,GAAIqE,GAAKrE,EAAEqE,GACTU,EAAQrB,EAAMC,KAAK,QAAQU,GAC3B+I,EAAW1J,EAAMC,KAAK,kBACdD,GAAMC,KAAK,gBAElBoB,EAAM6C,SAEL7C,GAASqI,GAAYrI,EAAMsI,IAAIpK,GAAgB2E,OAAS,GAC1DwF,EAAS3H,YAAY,kBAGtBV,EAAMS,SAAS,kBAGfT,EAAMuI,QAAQ,MAAM9H,SAAS,gBAI/BzJ,GAAK6D,GAAG,4BAA6BuN,EAErC,IAAII,GAAWZ,EAAiBvN,EAkChC,OAhCAwE,GAAQgB,YAAY2I,GAEpB7J,EAAMmB,OAAOjB,GACbF,EAAMC,KAAK,aAAa/D,GAAG,QAAS,SAAS8E,GAC3C,GAAI8I,GAAMlS,KAAKqJ,aAAa,OAE5BD,GAAMhE,iBAIN3E,EAAK4G,KAAK6K,GAEV9J,EAAMC,KAAK,mBACR6B,SAAS,eACTC,YAAY,kBAEftJ,EAAEb,MAAMmS,OAAO,MAAMjI,SAAS,oBAIhC9B,EAAMC,KAAK,eAAe/D,GAAG,QAAS,SAAS8E,GAC7C,GAAIgJ,GAAMvR,EAAEb,MAAMmS,OAAO,MACvBE,EAAOD,EAAIE,SAAS,cAEtBlJ,GAAMhE,iBACHiN,EACFD,EAAIjI,YAAY,eAEhBiI,EAAIlI,SAAS,kBAKf1B,KAASmJ,EACTlJ,KAASmJ"}