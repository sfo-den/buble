{"version":3,"file":"reader.min.js","sources":["reader.js"],"names":["EPUBJS","reader","plugins","root","$","ePubReader","path","options","Reader","define","amd","module","exports","window","jQuery","bookPath","_options","book","plugin","parameters","this","$viewer","search","location","settings","core","defaults","restore","reload","bookmarks","undefined","annotations","contained","bookKey","styles","sidebarReflow","generatePagination","history","slice","split","forEach","p","name","value","decodeURIComponent","setBookKey","isSaved","applySavedSettings","fontSize","Book","previousLocationCfi","gotoCfi","offline","sidebarOpen","width","height","renderTo","ReaderController","call","SettingsController","ControlsController","SidebarController","BookmarksController","NotesController","hasOwnProperty","ready","all","then","hideLoader","getMetadata","meta","MetaController","getToc","toc","TocController","addEventListener","unload","bind","hashChanged","document","adjustFontSize","on","arrowKeys","selectedRange","prototype","e","interval","PLUS","MINUS","ZERO","MOD","ctrlKey","metaKey","parseInt","keyCode","preventDefault","setStyle","addBookmark","cfi","present","isBookmarked","push","trigger","removeBookmark","bookmark","splice","indexOf","clearBookmarks","addNote","note","removeNote","index","clearNotes","identifier","VERSION","host","storedSettings","localStorage","getItem","removeSavedSettings","removeItem","stored","JSON","parse","saveSettings","getCurrentLocationCfi","setItem","stringify","hash","range","epubcfi","EpubCFI","generateCfiFromRangeAnchor","renderer","currentChapter","cfiBase","cfiFragment","pushState","currentLocationCfi","RSVP","EventTarget","mixin","$bookmarks","$list","find","docfrag","createDocumentFragment","show","hide","counter","createBookmarkItem","listitem","createElement","link","id","classList","add","textContent","href","event","getAttribute","appendChild","append","item","$item","remove","$fullscreen","$slider","$settings","$bookmark","goOnline","goOffline","fullscreen","addClass","removeClass","screenfull","toggle","raw","fullscreenchange","isFullscreen","bookmarked","title","bookTitle","author","creator","$title","$author","$dash","html","$notesView","$notes","$text","$anchor","popups","insertAtPoint","textNode","offset","annotation","doc","caretPositionFromPoint","clientX","clientY","offsetNode","caretRangeFromPoint","startContainer","startOffset","nodeType","i","childNodes","length","generateCfiFromTextNode","annotatedAt","Date","anchor","body","val","addAnnotation","placeMarker","text","prop","off","innerHTML","onclick","marker","mark","style","verticalAlign","lineHeight","padding","backgroundColor","borderRadius","cursor","uuid","addMarker","markerEvents","txt","showPop","pop","itemRect","left","top","iheight","iwidth","maxHeight","setAttribute","pop_content","render","onPop","offPop","hidePop","getBoundingClientRect","popRect","setTimeout","openSidebar","slideOut","registerHook","callback","chapter","spinePos","console","log","$main","$divider","$loader","$next","$prev","slideIn","currentPosition","one","showLoader","hideDivider","showDivider","keylock","metadata","direction","nextPage","prevPage","bool","$overlay","$sidebarReflowSetting","$sidebar","$panels","activePanel","changePanelTo","viewName","controllerName","getActivePanel","view","data","generateTocItems","level","container","subitems","label","insertBefore","onShow","onHide","chapterChange","$current","has","parents","tocitems","url","parent","$el","open","hasClass"],"mappings":"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"}